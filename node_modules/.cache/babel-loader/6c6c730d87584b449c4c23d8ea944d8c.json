{"ast":null,"code":"var _jsxFileName = \"/home/paul/Comparator/frontend/src/PlatformList.js\";\nimport React, { Component } from 'react';\nimport './PlatformList.css';\nimport Form from './Form';\nimport List from './List';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PlatformList extends Component {\n  constructor() {\n    super();\n\n    this.gettingPlatform = async e => {\n      e.preventDefault();\n      var price_diff = e.target.elements.price_diff.value;\n      var year_min = e.target.elements.year_min.value;\n      var year_max = e.target.elements.year_max.value;\n      var price_min = e.target.elements.price_min.value;\n      var price_max = e.target.elements.price_max.value;\n      const api_url = await fetch(`http://127.0.0.1:8000/api/platforml/price_diff=${price_diff}?year_min=${year_min}&year_max=${year_max}&price_min=${price_min}&price_max=${price_max}`);\n      const data = await api_url.json();\n      console.log(data.results);\n      let platform = data.results.map(() => {\n        return this.setState({\n          platform: platform // brandId: data.brandId,\n          // model: data.model,\n          // year: data.year,\n          // price: data.price,\n          // price_diff: data.price_diff,\n          // photo_link: data.photo_link,\n          // ad_link: data.ad_link,\n          // error:\"\"\n\n        });\n      });\n    };\n\n    this.state = {\n      platform: []\n    };\n  } // state = {\n  //     platform: []\n  //     // brandId: undefined,\n  //     // model: undefined,\n  //     // year: undefined,\n  //     // price: undefined,\n  //     // price_diff: undefined,\n  //     // photo_link: undefined,\n  //     // ad_link: undefined,\n  //     // error: undefined\n  // }\n  // onSubmit=(event)=> {\n  //     console.log(\"submit\")\n  //     event.preventDefault()\n  //     console.log(\"this.year_min=\", this.year_min, \"this.year_max=\", this.year_max, \"this.price_min=\", this.price_min, \"this.price_max=\", this.price_max)\n  // }\n  // changeHandler = event => {\n  //     const { price_min, value } = event.target;\n  //     this.setState({ [name]: value });\n  // };\n  // onYearMinChange = (event) => {\n  //     this.year_min = event.target.value;\n  // }\n  // onYearMaxChange = (event) => {\n  //     this.year_max = event.target.value;\n  // }\n  // onPriceMinChange = (event) => {\n  //     this.price_min = event.target.value;\n  // }\n  // onPriceMaxChange = (event) => {\n  //     this.price_max = event.target.value;\n  // }\n\n\n  // componentDidMount() {\n  //     var url = \"http://127.0.0.1:8000/api/platforml/price_diff=10\"  // + this.props.product\n  //     // console.log(this.year_min)\n  //     fetch(url, {\n  //         mode: 'cors',\n  //         method: 'GET',\n  //     })\n  //         .then(results => {return results.json()}).then(data => {\n  //         let platform = data.results.map((plat) => {\n  //             return (\n  //                 <span key={plat.id} onClick={ e => window.location.href = plat.ad_link } >\n  //                 <div className=\"AdContainer\"  >\n  //                     <div className=\"imageContainer\">\n  //                         <img src={plat.photo_link} alt=\"\" />\n  //                     </div>\n  //                     <div className=\"titleContainer\">\n  //                         <p><b>{plat.brandId+' '+plat.model}</b></p>\n  //                         <p> {plat.year}</p>\n  //                     </div>\n  //                     <div className=\"priceContainer\">\n  //                             <div className=\"price\">Price: {plat.price} EUR</div>\n  //                             <div className=\"price_diff\"> € {plat.price_diff} </div>\n  //                     </div>\n  //                 </div>\n  //                 </span>\n  //             )\n  //         })\n  //         this.setState({platform: platform})\n  //     })\n  //\n  // }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        listAds: this.gettingPlatform\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        brandId: this.state.platform.brandId,\n        model: this.state.model,\n        year: this.state.year,\n        price: this.state.price,\n        price_diff: this.state.price_diff,\n        photo_link: this.state.photo_link,\n        ad_link: this.state.ad_link,\n        error: this.state.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }, this);\n  }\n\n}\n\nexport default PlatformList;","map":{"version":3,"sources":["/home/paul/Comparator/frontend/src/PlatformList.js"],"names":["React","Component","Form","List","PlatformList","constructor","gettingPlatform","e","preventDefault","price_diff","target","elements","value","year_min","year_max","price_min","price_max","api_url","fetch","data","json","console","log","results","platform","map","setState","state","render","brandId","model","year","price","photo_link","ad_link","error"],"mappings":";AAAA,OAAQA,KAAR,IAAiBC,SAAjB,QAAmC,OAAnC;AACA,OAAO,oBAAP;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;;AAEA,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AACjCI,EAAAA,WAAW,GAAG;AACV;;AADU,SA4CdC,eA5Cc,GA4CI,MAAOC,CAAP,IAAa;AAC3BA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,UAAU,GAAGF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBF,UAAlB,CAA6BG,KAA9C;AACA,UAAIC,QAAQ,GAAGN,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBE,QAAlB,CAA2BD,KAA1C;AACA,UAAIE,QAAQ,GAAGP,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBG,QAAlB,CAA2BF,KAA1C;AACA,UAAIG,SAAS,GAAGR,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBI,SAAlB,CAA4BH,KAA5C;AACA,UAAII,SAAS,GAAGT,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBK,SAAlB,CAA4BJ,KAA5C;AACA,YAAMK,OAAO,GAAG,MAChBC,KAAK,CAAE,kDAAiDT,UAAW,aAAYI,QAAS,aAAYC,QAAS,cAAaC,SAAU,cAAaC,SAAU,EAAtJ,CADL;AAEA,YAAMG,IAAI,GAAG,MAAMF,OAAO,CAACG,IAAR,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,OAAjB;AACA,UAAIC,QAAQ,GAAGL,IAAI,CAACI,OAAL,CAAaE,GAAb,CAAiB,MAAM;AAClC,eACA,KAAKC,QAAL,CAAc;AACVF,UAAAA,QAAQ,EAAEA,QADA,CAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AATU,SAAd,CADA;AAaF,OAda,CAAf;AAeH,KAtEa;;AAEV,SAAKG,KAAL,GAAa;AACTH,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGH,GANgC,CAQjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAI,EAAAA,MAAM,GAAG;AACL,wBACM;AAAA,8BACI,QAAC,IAAD;AAAM,QAAA,OAAO,EAAE,KAAKtB;AAApB;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,IAAD;AACI,QAAA,OAAO,EAAE,KAAKqB,KAAL,CAAWH,QAAX,CAAoBK,OADjC;AAEI,QAAA,KAAK,EAAE,KAAKF,KAAL,CAAWG,KAFtB;AAGI,QAAA,IAAI,EAAE,KAAKH,KAAL,CAAWI,IAHrB;AAII,QAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWK,KAJtB;AAKI,QAAA,UAAU,EAAE,KAAKL,KAAL,CAAWlB,UAL3B;AAMI,QAAA,UAAU,EAAE,KAAKkB,KAAL,CAAWM,UAN3B;AAOI,QAAA,OAAO,EAAE,KAAKN,KAAL,CAAWO,OAPxB;AAQI,QAAA,KAAK,EAAE,KAAKP,KAAL,CAAWQ;AARtB;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADN;AAeF;;AAzH+B;;AA4HrC,eAAiB/B,YAAjB","sourcesContent":["import  React, { Component } from  'react';\nimport './PlatformList.css';\nimport Form from './Form';\nimport List from './List';\n\nclass PlatformList extends Component {\n    constructor() {\n        super();\n        this.state = {\n            platform: [],\n        };\n    }\n\n    // state = {\n    //     platform: []\n    //     // brandId: undefined,\n    //     // model: undefined,\n    //     // year: undefined,\n    //     // price: undefined,\n    //     // price_diff: undefined,\n    //     // photo_link: undefined,\n    //     // ad_link: undefined,\n    //     // error: undefined\n    // }\n\n    // onSubmit=(event)=> {\n    //     console.log(\"submit\")\n    //     event.preventDefault()\n    //     console.log(\"this.year_min=\", this.year_min, \"this.year_max=\", this.year_max, \"this.price_min=\", this.price_min, \"this.price_max=\", this.price_max)\n    // }\n\n    // changeHandler = event => {\n    //     const { price_min, value } = event.target;\n    //     this.setState({ [name]: value });\n    // };\n\n    // onYearMinChange = (event) => {\n    //     this.year_min = event.target.value;\n    // }\n    // onYearMaxChange = (event) => {\n    //     this.year_max = event.target.value;\n    // }\n    // onPriceMinChange = (event) => {\n    //     this.price_min = event.target.value;\n    // }\n    // onPriceMaxChange = (event) => {\n    //     this.price_max = event.target.value;\n    // }\n\n\n    gettingPlatform = async (e) => {\n        e.preventDefault();\n        var price_diff = e.target.elements.price_diff.value;\n        var year_min = e.target.elements.year_min.value;\n        var year_max = e.target.elements.year_max.value;\n        var price_min = e.target.elements.price_min.value;\n        var price_max = e.target.elements.price_max.value;\n        const api_url = await\n        fetch(`http://127.0.0.1:8000/api/platforml/price_diff=${price_diff}?year_min=${year_min}&year_max=${year_max}&price_min=${price_min}&price_max=${price_max}`);\n        const data = await api_url.json();\n        console.log(data.results);\n        let platform = data.results.map(() => {\n            return(\n            this.setState({\n                platform: platform\n                // brandId: data.brandId,\n                // model: data.model,\n                // year: data.year,\n                // price: data.price,\n                // price_diff: data.price_diff,\n                // photo_link: data.photo_link,\n                // ad_link: data.ad_link,\n                // error:\"\"\n            })\n\n        )})\n    }\n\n    // componentDidMount() {\n    //     var url = \"http://127.0.0.1:8000/api/platforml/price_diff=10\"  // + this.props.product\n    //     // console.log(this.year_min)\n    //     fetch(url, {\n    //         mode: 'cors',\n    //         method: 'GET',\n    //     })\n    //         .then(results => {return results.json()}).then(data => {\n    //         let platform = data.results.map((plat) => {\n    //             return (\n    //                 <span key={plat.id} onClick={ e => window.location.href = plat.ad_link } >\n    //                 <div className=\"AdContainer\"  >\n    //                     <div className=\"imageContainer\">\n    //                         <img src={plat.photo_link} alt=\"\" />\n    //                     </div>\n    //                     <div className=\"titleContainer\">\n    //                         <p><b>{plat.brandId+' '+plat.model}</b></p>\n    //                         <p> {plat.year}</p>\n    //                     </div>\n    //                     <div className=\"priceContainer\">\n    //                             <div className=\"price\">Price: {plat.price} EUR</div>\n    //                             <div className=\"price_diff\"> € {plat.price_diff} </div>\n    //                     </div>\n    //                 </div>\n    //                 </span>\n    //             )\n    //         })\n    //         this.setState({platform: platform})\n    //     })\n    //\n    // }\n\n    render() {\n        return(\n              <div>\n                  <Form listAds={this.gettingPlatform} />\n                  <List\n                      brandId={this.state.platform.brandId}\n                      model={this.state.model}\n                      year={this.state.year}\n                      price={this.state.price}\n                      price_diff={this.state.price_diff}\n                      photo_link={this.state.photo_link}\n                      ad_link={this.state.ad_link}\n                      error={this.state.error}\n                  />\n                  {/*{this.state.platform}*/}\n              </div>\n    )}\n}\n\nexport  default  PlatformList;"]},"metadata":{},"sourceType":"module"}