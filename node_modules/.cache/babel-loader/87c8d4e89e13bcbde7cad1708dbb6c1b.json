{"ast":null,"code":"var _jsxFileName = \"/home/paul/Comparator/frontend/src/Components/Favorites.js\";\nimport React, { Component } from 'react';\nimport authHeader from \"../services/auth-header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Favorites extends Component {\n  constructor() {\n    super();\n    this.state = {\n      favorites: [],\n      id: 0\n    }; // this.deleteFromFavorites = this.deleteFromFavorites.bind(this);\n  }\n\n  deleteFromFavorites(id) {\n    var url = \"http://localhost:8000/favorites/delete/\" + id; //тут  ad_id  который находится в Favorites\n\n    fetch(url, {\n      mode: 'cors',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': 'http://localhost:3000'\n      },\n      method: 'GET',\n      credentials: 'include'\n    });\n    window.location.reload(false);\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:8000/api/favorites\";\n    fetch(url, {\n      headers: authHeader()\n    }).then(res => res.json()).then(result => {\n      console.log(result);\n    }); //\n    //     let products = data.map((favs) => {\n    //                 const data = await url.json();\n    //                 console.log(data.results);\n    //                 let platform = data.results.map((plat) => {\n    //                     return (\n    //                         <span key={plat.id} onClick={ e => window.location.href = plat.ad_link } >\n    //             <div className=\"AdContainer\"  >\n    //                 <div className=\"imageContainer\">\n    //                     <img src={plat.photo_link} alt=\"\" />\n    //                 </div>\n    //                 <div className=\"titleContainer\">\n    //                     <p><b>{plat.brandId+' '+plat.model}</b></p>\n    //                     <p> {plat.year}</p>\n    //                 </div>\n    //                 <div className=\"priceContainer\">\n    //                         <div className=\"price\">Price: {plat.price} EUR</div>\n    //                         <div className=\"price_diff\"> € {plat.price_diff} </div>\n    //                 </div>\n    //             </div>\n    //             </span>\n    //                     )\n    //                 })\n    //\n    //                 this.setState({favorites:favorites});\n    //                 console.log(this.props.favorites);\n    //             })\n    //     })\n    // })\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.favorites\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Favorites;","map":{"version":3,"sources":["/home/paul/Comparator/frontend/src/Components/Favorites.js"],"names":["React","Component","authHeader","Favorites","constructor","state","favorites","id","deleteFromFavorites","url","fetch","mode","headers","method","credentials","window","location","reload","componentDidMount","then","res","json","result","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;;AAGA,MAAMC,SAAN,SAAwBF,SAAxB,CAAkC;AAC9BG,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,EADF;AAETC,MAAAA,EAAE,EAAE;AAFK,KAAb,CAFU,CAMV;AACH;;AAEDC,EAAAA,mBAAmB,CAACD,EAAD,EAAK;AACpB,QAAIE,GAAG,GAAG,4CAA4CF,EAAtD,CADoB,CACwC;;AAC5DG,IAAAA,KAAK,CAACD,GAAD,EAAM;AACPE,MAAAA,IAAI,EAAE,MADC;AAEPC,MAAAA,OAAO,EAAC;AACJ,kBAAU,kBADN;AAEJ,wBAAgB,kBAFZ;AAGJ,uCAA8B;AAH1B,OAFD;AAOPC,MAAAA,MAAM,EAAE,KAPD;AAQPC,MAAAA,WAAW,EAAE;AARN,KAAN,CAAL;AAUAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,UAAMT,GAAG,GAAG,qCAAZ;AACAC,IAAAA,KAAK,CAACD,GAAD,EAAM;AAAEG,MAAAA,OAAO,EAAEV,UAAU;AAArB,KAAN,CAAL,CACKiB,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAGSG,MAAD,IAAY;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACH,KALT,EAFgB,CAQZ;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAEDG,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,gBACK,KAAKpB,KAAL,CAAWC;AADhB;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AAtE6B;;AAyElC,eAAeH,SAAf","sourcesContent":["import React, {Component} from 'react';\nimport authHeader from \"../services/auth-header\";\n\n\nclass Favorites extends Component {\n    constructor() {\n        super();\n        this.state = {\n            favorites: [],\n            id: 0,\n        };\n        // this.deleteFromFavorites = this.deleteFromFavorites.bind(this);\n    }\n\n    deleteFromFavorites(id) {\n        var url = \"http://localhost:8000/favorites/delete/\" + id    //тут  ad_id  который находится в Favorites\n        fetch(url, {\n            mode: 'cors',\n            headers:{\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin':'http://localhost:3000',\n            },\n            method: 'GET',\n            credentials: 'include',\n        })\n        window.location.reload(false);\n    }\n\n    componentDidMount() {\n        const url = \"http://localhost:8000/api/favorites\"\n        fetch(url, { headers: authHeader() })\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    console.log(result)\n                });\n            //\n            //     let products = data.map((favs) => {\n        //                 const data = await url.json();\n        //                 console.log(data.results);\n        //                 let platform = data.results.map((plat) => {\n        //                     return (\n        //                         <span key={plat.id} onClick={ e => window.location.href = plat.ad_link } >\n        //             <div className=\"AdContainer\"  >\n        //                 <div className=\"imageContainer\">\n        //                     <img src={plat.photo_link} alt=\"\" />\n        //                 </div>\n        //                 <div className=\"titleContainer\">\n        //                     <p><b>{plat.brandId+' '+plat.model}</b></p>\n        //                     <p> {plat.year}</p>\n        //                 </div>\n        //                 <div className=\"priceContainer\">\n        //                         <div className=\"price\">Price: {plat.price} EUR</div>\n        //                         <div className=\"price_diff\"> € {plat.price_diff} </div>\n        //                 </div>\n        //             </div>\n        //             </span>\n        //                     )\n        //                 })\n        //\n        //                 this.setState({favorites:favorites});\n        //                 console.log(this.props.favorites);\n        //             })\n        //     })\n        // })\n    }\n\n    render() {\n        return (\n            <div>\n                {this.state.favorites}\n            </div>\n        )\n    }\n}\n\nexport default Favorites;"]},"metadata":{},"sourceType":"module"}