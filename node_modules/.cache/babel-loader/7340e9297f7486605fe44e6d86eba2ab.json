{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport EventListener from './EventDispatcher';\nimport ScrollElement from './ScrollElement';\nimport { toArrayChildren, noop, windowIsUndefined } from './util';\n\nvar ScrollOverPack = function (_ScrollElement) {\n  _inherits(ScrollOverPack, _ScrollElement);\n\n  _createClass(ScrollOverPack, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps;\n      var nextState = {\n        prevProps: props\n      };\n\n      if (prevProps && props !== prevProps) {\n        nextState.children = toArrayChildren(props.children);\n      }\n\n      return nextState;\n    }\n  }]);\n\n  function ScrollOverPack(props) {\n    _classCallCheck(this, ScrollOverPack);\n\n    var _this = _possibleConstructorReturn(this, (ScrollOverPack.__proto__ || Object.getPrototypeOf(ScrollOverPack)).call(this, props));\n\n    _this.scrollEventListener = function (e) {\n      _this.getParam(e);\n\n      var show = _this.state.show;\n      var _this$props = _this.props,\n          always = _this$props.always,\n          replay = _this$props.replay;\n      var isTop = _this.elementShowHeight > _this.clientHeight + _this.leavePlayHeight;\n\n      if (_this.enter || !replay && isTop) {\n        if (!show) {\n          _this.setState({\n            show: true\n          });\n        }\n\n        if (!always && _this.eventType) {\n          EventListener.removeEventListener(_this.eventType, _this.scrollEventListener, _this.target);\n        }\n      } else if (always) {\n        var bottomLeave = _this.elementShowHeight < _this.playHeight; // 设置往上时的出场点...\n\n        var topLeave = replay ? isTop : null;\n\n        if (topLeave || bottomLeave) {\n          if (show) {\n            _this.setState({\n              show: false\n            });\n          }\n        }\n      }\n    };\n\n    _this.children = toArrayChildren(props.children);\n    _this.oneEnter = false;\n    _this.enter = false;\n    _this.state = {\n      show: false,\n      children: toArrayChildren(props.children)\n    };\n    return _this;\n  }\n\n  _createClass(ScrollOverPack, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (prevProps !== this.props) {\n        var always = this.props.always;\n        var show = this.state.show;\n\n        var inListener = EventListener._listeners.scroll && EventListener._listeners.scroll.some(function (c) {\n          return c.n === _this2.eventType.split('.')[1];\n        });\n\n        if (always && !inListener) {\n          this.addScrollEvent();\n        } else if (!always && !show) {\n          this.scrollEventListener();\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          playScale = _props.playScale,\n          replay = _props.replay,\n          component = _props.component,\n          always = _props.always,\n          scrollEvent = _props.scrollEvent,\n          appear = _props.appear,\n          location = _props.location,\n          targetId = _props.targetId,\n          onChange = _props.onChange,\n          onScroll = _props.onScroll,\n          componentProps = _props.componentProps,\n          props = _objectWithoutProperties(_props, ['playScale', 'replay', 'component', 'always', 'scrollEvent', 'appear', 'location', 'targetId', 'onChange', 'onScroll', 'componentProps']);\n\n      if (windowIsUndefined) {\n        return createElement(component, _extends({}, props, componentProps), props.children);\n      }\n\n      var childToRender = void 0;\n\n      if (!this.oneEnter) {\n        var show = !appear;\n        var children = toArrayChildren(props.children).map(function (item) {\n          if (!item) {\n            return null;\n          }\n\n          var key = item.key || (Date.now() + Math.random()).toString(16).replace('.', '');\n          return item.type.isTweenOne ? React.cloneElement(item, _extends({}, item.props, {\n            key: key,\n            paused: !show\n          })) : React.cloneElement(item, _extends({}, item.props, {\n            key: key\n          }), show && item.props.children);\n        });\n        childToRender = createElement(component, _extends({}, props, componentProps), children);\n        this.oneEnter = true;\n      } else {\n        if (!this.state.show) {\n          this.children = this.children.map(function (item) {\n            if (!item) {\n              return null;\n            }\n\n            var key = item.key || (Date.now() + Math.random()).toString(16).replace('.', ''); // 判断 TweenOne;\n\n            if (item.type.isTweenOne) {\n              return React.cloneElement(item, {\n                key: key,\n                reverse: true\n              });\n            }\n\n            return React.cloneElement(item, {\n              key: key\n            }, null);\n          });\n        } else {\n          this.children = this.state.children;\n        }\n\n        childToRender = createElement(component, _extends({}, props, componentProps), this.children);\n      }\n\n      return childToRender;\n    }\n  }]);\n\n  return ScrollOverPack;\n}(ScrollElement);\n\nScrollOverPack.propTypes = {\n  component: PropTypes.any,\n  playScale: PropTypes.any,\n  always: PropTypes.bool,\n  scrollEvent: PropTypes.func,\n  children: PropTypes.any,\n  className: PropTypes.string,\n  style: PropTypes.any,\n  replay: PropTypes.bool,\n  onChange: PropTypes.func,\n  onScroll: PropTypes.func,\n  appear: PropTypes.bool,\n  componentProps: PropTypes.object\n};\nScrollOverPack.defaultProps = {\n  component: 'div',\n  playScale: 0.5,\n  always: true,\n  scrollEvent: noop,\n  replay: false,\n  onChange: noop,\n  onScroll: noop,\n  appear: true,\n  componentProps: {}\n};\nScrollOverPack.isScrollOverPack = true;\nexport default ScrollOverPack;","map":{"version":3,"sources":["/home/paul/Comparator/frontend/node_modules/rc-scroll-anim/es/ScrollOverPack.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_createClass","_inherits","React","createElement","PropTypes","EventListener","ScrollElement","toArrayChildren","noop","windowIsUndefined","ScrollOverPack","_ScrollElement","key","value","getDerivedStateFromProps","props","_ref","prevProps","nextState","children","_this","__proto__","Object","getPrototypeOf","call","scrollEventListener","e","getParam","show","state","_this$props","always","replay","isTop","elementShowHeight","clientHeight","leavePlayHeight","enter","setState","eventType","removeEventListener","target","bottomLeave","playHeight","topLeave","oneEnter","componentDidUpdate","_this2","inListener","_listeners","scroll","some","c","n","split","addScrollEvent","render","_props","playScale","component","scrollEvent","appear","location","targetId","onChange","onScroll","componentProps","childToRender","map","item","Date","now","Math","random","toString","replace","type","isTweenOne","cloneElement","paused","reverse","propTypes","any","bool","func","className","string","style","object","defaultProps","isScrollOverPack"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport EventListener from './EventDispatcher';\nimport ScrollElement from './ScrollElement';\nimport { toArrayChildren, noop, windowIsUndefined } from './util';\n\nvar ScrollOverPack = function (_ScrollElement) {\n  _inherits(ScrollOverPack, _ScrollElement);\n\n  _createClass(ScrollOverPack, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        nextState.children = toArrayChildren(props.children);\n      }\n      return nextState;\n    }\n  }]);\n\n  function ScrollOverPack(props) {\n    _classCallCheck(this, ScrollOverPack);\n\n    var _this = _possibleConstructorReturn(this, (ScrollOverPack.__proto__ || Object.getPrototypeOf(ScrollOverPack)).call(this, props));\n\n    _this.scrollEventListener = function (e) {\n      _this.getParam(e);\n      var show = _this.state.show;\n      var _this$props = _this.props,\n          always = _this$props.always,\n          replay = _this$props.replay;\n\n      var isTop = _this.elementShowHeight > _this.clientHeight + _this.leavePlayHeight;\n      if (_this.enter || !replay && isTop) {\n        if (!show) {\n          _this.setState({\n            show: true\n          });\n        }\n        if (!always && _this.eventType) {\n          EventListener.removeEventListener(_this.eventType, _this.scrollEventListener, _this.target);\n        }\n      } else if (always) {\n        var bottomLeave = _this.elementShowHeight < _this.playHeight;\n        // 设置往上时的出场点...\n        var topLeave = replay ? isTop : null;\n        if (topLeave || bottomLeave) {\n          if (show) {\n            _this.setState({\n              show: false\n            });\n          }\n        }\n      }\n    };\n\n    _this.children = toArrayChildren(props.children);\n    _this.oneEnter = false;\n    _this.enter = false;\n    _this.state = {\n      show: false,\n      children: toArrayChildren(props.children)\n    };\n    return _this;\n  }\n\n  _createClass(ScrollOverPack, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (prevProps !== this.props) {\n        var always = this.props.always;\n        var show = this.state.show;\n\n        var inListener = EventListener._listeners.scroll && EventListener._listeners.scroll.some(function (c) {\n          return c.n === _this2.eventType.split('.')[1];\n        });\n        if (always && !inListener) {\n          this.addScrollEvent();\n        } else if (!always && !show) {\n          this.scrollEventListener();\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          playScale = _props.playScale,\n          replay = _props.replay,\n          component = _props.component,\n          always = _props.always,\n          scrollEvent = _props.scrollEvent,\n          appear = _props.appear,\n          location = _props.location,\n          targetId = _props.targetId,\n          onChange = _props.onChange,\n          onScroll = _props.onScroll,\n          componentProps = _props.componentProps,\n          props = _objectWithoutProperties(_props, ['playScale', 'replay', 'component', 'always', 'scrollEvent', 'appear', 'location', 'targetId', 'onChange', 'onScroll', 'componentProps']);\n\n      if (windowIsUndefined) {\n        return createElement(component, _extends({}, props, componentProps), props.children);\n      }\n      var childToRender = void 0;\n      if (!this.oneEnter) {\n        var show = !appear;\n        var children = toArrayChildren(props.children).map(function (item) {\n          if (!item) {\n            return null;\n          }\n          var key = item.key || (Date.now() + Math.random()).toString(16).replace('.', '');\n          return item.type.isTweenOne ? React.cloneElement(item, _extends({}, item.props, { key: key, paused: !show })) : React.cloneElement(item, _extends({}, item.props, { key: key }), show && item.props.children);\n        });\n        childToRender = createElement(component, _extends({}, props, componentProps), children);\n        this.oneEnter = true;\n      } else {\n        if (!this.state.show) {\n          this.children = this.children.map(function (item) {\n            if (!item) {\n              return null;\n            }\n            var key = item.key || (Date.now() + Math.random()).toString(16).replace('.', '');\n            // 判断 TweenOne;\n            if (item.type.isTweenOne) {\n              return React.cloneElement(item, { key: key, reverse: true });\n            }\n            return React.cloneElement(item, { key: key }, null);\n          });\n        } else {\n          this.children = this.state.children;\n        }\n        childToRender = createElement(component, _extends({}, props, componentProps), this.children);\n      }\n      return childToRender;\n    }\n  }]);\n\n  return ScrollOverPack;\n}(ScrollElement);\n\nScrollOverPack.propTypes = {\n  component: PropTypes.any,\n  playScale: PropTypes.any,\n  always: PropTypes.bool,\n  scrollEvent: PropTypes.func,\n  children: PropTypes.any,\n  className: PropTypes.string,\n  style: PropTypes.any,\n  replay: PropTypes.bool,\n  onChange: PropTypes.func,\n  onScroll: PropTypes.func,\n  appear: PropTypes.bool,\n  componentProps: PropTypes.object\n};\nScrollOverPack.defaultProps = {\n  component: 'div',\n  playScale: 0.5,\n  always: true,\n  scrollEvent: noop,\n  replay: false,\n  onChange: noop,\n  onScroll: noop,\n  appear: true,\n  componentProps: {}\n};\n\nScrollOverPack.isScrollOverPack = true;\n\nexport default ScrollOverPack;"]},"metadata":{},"sourceType":"module"}